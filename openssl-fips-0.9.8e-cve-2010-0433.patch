diff -up openssl-fips-0.9.8e/ssl/kssl.c.nullprinc openssl-fips-0.9.8e/ssl/kssl.c
--- openssl-fips-0.9.8e/ssl/kssl.c.nullprinc	2010-03-04 11:33:16.000000000 +0100
+++ openssl-fips-0.9.8e/ssl/kssl.c	2010-03-04 11:33:54.000000000 +0100
@@ -1806,6 +1806,8 @@ kssl_ctx_show(KSSL_CTX *kssl_ctx)
     krb5rc = krb5_sname_to_principal(krb5context, NULL, 
                                      kssl_ctx->service_name ? kssl_ctx->service_name: KRB5SVC,
                                      KRB5_NT_SRV_HST, &princ);
+    if (krb5rc)
+        goto exit;
 
     krb5rc = krb5_kt_get_entry(krb5context, krb5keytab, 
                                 princ,
